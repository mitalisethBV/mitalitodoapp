<!DOCTYPE html>
<html>
<head>
    <title>To_Do</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
        <script>

        document.addEventListener('DOMContentLoaded', function(){

            //so that user don't entre empty input we can disable the submit button initially till user don't provide task.
            document.querySelector('#submit').disabled =  true;

            // now to enable submit button when user press key by using onkeyup so user can submit it input
            document.querySelector('#task').onkeyup = () =>{
                if(document.querySelector('#task').value.length >0){
                    document.querySelector('#submit').disabled =  false;
                }
                else{
                    document.querySelector('#submit').disabled =  true;
                }
                
            } 

              document.querySelector('form').onsubmit = () => {
                  const task = document.querySelector('#task').value;
                  //console.log(task);   // it will print entred task to concole window of javascript
                  const li = document.createElement('li');
                  li.innerHTML =task;
                  document.querySelector('#tasks').append(li);
                  
                  document.querySelector('#task').value = '';

                  document.querySelector('#submit').disabled =  true; //disable again after submitting input

                  //stop form from submitting so tht entred value can be shown in colsole
                  return false   // it will stop form from submitting 
              }
                    
        });

        </script>
</head>

<body >
    <nav class="navbar navbar-light " style="background-color: #e3f2fd;">
        <a class="navbar-brand " href="#">To Do App</a>
    </nav>  

<div class="row ">
    <div class="col" style="margin-left: 10px;">
        <h2>Add Item</h2>
        <form action="/update/{{id}}/" method='POST' class="row row-cols-lg-auto g-3 align-items-center">
            {% csrf_token %}
            <div class="col-12">
                <input type="text" name="title" id="task" class="form-control mb-2 mr-sm-2"  placeholder="Title" value="{{title}}">
            </div>
            
            <div class="col-12">
                <input type="text" name="complete" id="complete" class="form-control mb-2 mr-sm-2"  placeholder="Do work on">
            </div>
            
            <div class="col-12">
                <button type="submit" id="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
        <a href="{% url 'my_todolist:mytask' %}" >Check your task</a>
    </div>
</div>   
      
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    
  </body>
</html>